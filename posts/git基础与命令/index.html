<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Git基础与命令 - 蜷缩的蜗牛</title><meta name=author content="kbsonlong"><meta name=author-link content><meta name=description content="Git基础与命令 官方文档（中文）：https://git-scm.com/book/zh/v2 本文档是根据官方文档来编写的，以官方文档为准。"><meta name=keywords content="Git"><meta itemprop=name content="Git基础与命令"><meta itemprop=description content="Git基础与命令 官方文档（中文）：https://git-scm.com/book/zh/v2 本文档是根据官方文档来编写的，以官方文档为准。"><meta itemprop=datePublished content="2020-11-18T17:43:57+00:00"><meta itemprop=dateModified content="2020-11-18T17:43:57+00:00"><meta itemprop=wordCount content="4544"><meta itemprop=image content="http://devops.alongparty.cn/logo_transparent.png"><meta itemprop=keywords content="Git,"><meta property="og:title" content="Git基础与命令"><meta property="og:description" content="Git基础与命令 官方文档（中文）：https://git-scm.com/book/zh/v2 本文档是根据官方文档来编写的，以官方文档为准。"><meta property="og:type" content="article"><meta property="og:url" content="http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/"><meta property="og:image" content="http://devops.alongparty.cn/logo_transparent.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-18T17:43:57+00:00"><meta property="article:modified_time" content="2020-11-18T17:43:57+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://devops.alongparty.cn/logo_transparent.png"><meta name=twitter:title content="Git基础与命令"><meta name=twitter:description content="Git基础与命令 官方文档（中文）：https://git-scm.com/book/zh/v2 本文档是根据官方文档来编写的，以官方文档为准。"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#252627"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/><link rel=prev href=http://devops.alongparty.cn/posts/%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4%E6%B8%85%E5%8D%95/><link rel=next href=http://devops.alongparty.cn/posts/git%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%BD%AE%E6%8F%AD%E5%AF%86/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Git基础与命令","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/devops.alongparty.cn\/posts\/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4\/"},"genre":"posts","keywords":"Git","wordcount":4544,"url":"http:\/\/devops.alongparty.cn\/posts\/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4\/","datePublished":"2020-11-18T17:43:57+00:00","dateModified":"2020-11-18T17:43:57+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"kbsonlong"},"description":""}</script></head><body header-desktop=sticky header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper github-corner=right><div class=header-title><a href=/ title=蜷缩的蜗牛><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_transparent.png data-srcset="/logo_transparent.png, /logo_transparent.png 1.5x, /logo_transparent.png 2x" data-sizes=auto alt=蜷缩的蜗牛 title=蜷缩的蜗牛><span class=header-title-text>蜷缩的蜗牛</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=https://github.com/kbsonlong/ title=GitHub rel="noopener noreffer" target=_blank><i class='fa-brands fa-github fa-fw'></i></a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=/messages/><i class='fa-solid fa-messages'></i> 留言板</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down"></i></span><ul class=sub-menu><li class=menu-item>没有更多翻译</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=蜷缩的蜗牛><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_transparent.png data-srcset="/logo_transparent.png, /logo_transparent.png 1.5x, /logo_transparent.png 2x" data-sizes=auto alt=/logo_transparent.png title=/logo_transparent.png><span class=header-title-text>蜷缩的蜗牛</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/><i class='fa-solid fa-archive fa-fw fa-sm'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class='fa-solid fa-info-circle fa-fw fa-sm'></i> 关于</a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=https://github.com/kbsonlong/ title=GitHub rel="noopener noreffer" target=_blank><i class='fa-brands fa-github fa-fw'></i></a></li><li class="menu-item d-none-desktop text-center"><a class=menu-link href=/messages/><i class='fa-solid fa-messages'></i> 留言板</a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li><li class="menu-item language"><span title=选择语言>简体中文<i class="dropdown-icon fa-solid fa-chevron-down"></i></span>
<select class=language-select onchange="location=this.value"><option disabled>没有更多翻译</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Git基础与命令</h1><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle"></i></span></span>
<span class=post-category>收录于 <a href=/categories/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;《Git》学习笔记</a></span></div><div class=post-meta-line><span title="2020-11-18 17:43:57"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-11-18>2020-11-18</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 4544 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 10 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#git基础>Git基础</a><ul><li><a href=#全局配置>全局配置</a></li><li><a href=#检查配置信息>检查配置信息</a></li><li><a href=#获取帮助>获取帮助</a></li><li><a href=#初始化仓库>初始化仓库</a></li><li><a href=#克隆远程仓库>克隆远程仓库</a></li><li><a href=#检查文件状态>检查文件状态</a></li><li><a href=#加入暂存区-跟踪文件>加入暂存区 (跟踪文件)</a></li><li><a href=#忽略文件>忽略文件</a></li><li><a href=#查看修改的具体内容>查看修改的具体内容</a></li><li><a href=#提交更新>提交更新</a></li><li><a href=#跳过使用暂存区域>跳过使用暂存区域</a></li></ul></li><li><a href=#git-基础---查看提交历史>Git 基础 - 查看提交历史</a></li><li><a href=#git-基础---撤消操作>Git 基础 - 撤消操作</a></li><li><a href=#git-基础---远程仓库的使用>Git 基础 - 远程仓库的使用</a><ul><li><a href=#查看远程仓库>查看远程仓库</a></li><li><a href=#添加远程仓库>添加远程仓库</a></li><li><a href=#从远程仓库中抓取与拉取>从远程仓库中抓取与拉取</a></li><li><a href=#推送到远程仓库>推送到远程仓库</a></li><li><a href=#查看某个远程仓库>查看某个远程仓库</a></li><li><a href=#远程仓库的重命名与移除>远程仓库的重命名与移除</a></li></ul></li><li><a href=#git-基础---打标签>Git 基础 - 打标签</a><ul><li><a href=#列出标签>列出标签</a></li><li><a href=#创建标签>创建标签</a></li><li><a href=#附注标签>附注标签</a></li><li><a href=#轻量标签>轻量标签</a></li><li><a href=#后期打标签>后期打标签</a></li><li><a href=#共享标签>共享标签</a></li><li><a href=#删除标签>删除标签</a></li><li><a href=#检出标签>检出标签</a></li></ul></li><li><a href=#git-命令别名>Git 命令别名</a></li></ul></nav></div></div><div class=content id=content><h1 id=git基础与命令>Git基础与命令</h1><p>官方文档（中文）：https://git-scm.com/book/zh/v2</p><blockquote><p>本文档是根据官方文档来编写的，以官方文档为准。</p></blockquote><h2 id=git基础>Git基础</h2><h3 id=全局配置>全局配置</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s1>&#39;your name&#39;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s1>&#39;xxx@xx.com&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>自报家门</p><h3 id=检查配置信息>检查配置信息</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --list
</span></span></code></pre></td></tr></table></div></div><h3 id=获取帮助>获取帮助</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 获取全局帮助手册</span>
</span></span><span class=line><span class=cl>git <span class=nb>help</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取特定命令的详细版帮助手册 (两个命令是等价的)</span>
</span></span><span class=line><span class=cl>git <span class=nb>help</span> &lt;某个命令&gt;
</span></span><span class=line><span class=cl>git &lt;某个命令&gt; --help <span class=c1># 两个横杠</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取特定命令的简明版帮助手册</span>
</span></span><span class=line><span class=cl>git &lt;某个命令&gt; -h  <span class=c1># 一个横杠</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=初始化仓库>初始化仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 本地目录初始化仓库</span>
</span></span><span class=line><span class=cl>git init
</span></span></code></pre></td></tr></table></div></div><p>如果你是从远程仓库clone的项目，则该项目是已经初始化好的git仓库</p><h3 id=克隆远程仓库>克隆远程仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 克隆</span>
</span></span><span class=line><span class=cl>git clone &lt;url&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 克隆同时修改目录名</span>
</span></span><span class=line><span class=cl>git clone &lt;url&gt; &lt;name&gt;
</span></span></code></pre></td></tr></table></div></div><p>初次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪文件，并处于未修改状态，因为 Git 刚刚检出了它们， 而你尚未编辑过它们</p><h3 id=检查文件状态>检查文件状态</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 查看详细状态说明</span>
</span></span><span class=line><span class=cl>git status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看简明状态说明</span>
</span></span><span class=line><span class=cl>git status -s  <span class=c1># -s 或 --short</span>
</span></span><span class=line><span class=cl> M README <span class=c1># 已修改，但未暂存 （M的位置靠右，红色）</span>
</span></span><span class=line><span class=cl>MM Rakefile <span class=c1># 已修改，暂存后又作了修改（有暂存和未暂存）</span>
</span></span><span class=line><span class=cl>A  lib/git.rb <span class=c1># 新添加到暂存区，未提交</span>
</span></span><span class=line><span class=cl>M  lib/simplegit.rb <span class=c1># 已修改，已暂存 （M的位置靠左，绿色）</span>
</span></span><span class=line><span class=cl>?? LICENSE.txt <span class=c1># 新添加，未跟踪</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>git目录中的文件状态包含：是否跟踪、是否修改、是否已存入暂存区</p></li><li><p>参数的<strong>一个横杠表示缩写，两个横杠表示全称。</strong></p></li></ul><h3 id=加入暂存区-跟踪文件>加入暂存区 (跟踪文件)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 文件加入暂存区（跟踪指定文件)</span>
</span></span><span class=line><span class=cl>git add &lt;files&gt;
</span></span></code></pre></td></tr></table></div></div><p><code>git add</code> 命令使用文件或目录的路径作为参数；如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件。</p><p><code>add</code> 命令是将文件<strong>加入</strong>到<strong>暂存区</strong>，<code>commit</code> 命令的<strong>提交</strong>到<strong>本地仓库</strong>，<code>push</code> 命令是<strong>推送</strong>到<strong>远程仓库</strong>。</p><h3 id=忽略文件>忽略文件</h3><p>添加一个名为 <code>.gitignore</code> 的文件，列出要忽略的文件的模式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>*.<span class=o>[</span>oa<span class=o>]</span>  <span class=c1># 忽略以 .o 或 .a 结尾的文件（一般这类文件是编译过程出现）</span>
</span></span><span class=line><span class=cl>*~      <span class=c1># 忽略以 ~ 结尾的文件（一般是文本编辑软件保存的副本）</span>
</span></span></code></pre></td></tr></table></div></div><p>文件 <code>.gitignore</code> 的<strong>格式规范</strong>如下：</p><ul><li><p>所有空行或者以 <code>#</code> 开头的行都会被 Git 忽略（注释符号）。</p></li><li><p>可以使用标准的 glob 模式匹配，它会递归地应用在整个工作区中。</p><blockquote><p>glob 模式是指 shell 所使用的简化了的正则表达式</p></blockquote></li><li><p>匹配模式可以以（<code>/</code>）开头防止递归。</p></li><li><p>匹配模式可以以（<code>/</code>）结尾指定目录。</p></li><li><p>要忽略指定模式以外的文件或目录，可以在模式前加上叹号（<code>!</code>）取反。</p></li></ul><hr><ul><li>星号（<code>*</code>）匹配零个或多个任意字符</li><li><code>[abc]</code> 匹配任何一个列在方括号中的字符 （这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）</li><li>问号（<code>?</code>）只匹配一个任意字符</li><li><code>[0-9]</code> 表示匹配所有 0 到 9 的数字。在方括号中使用短划线分隔两个字符， 表示所有在这两个字符范围内的都可以匹配</li><li>使用两个星号（<code>**</code>）表示匹配任意中间目录，比如 <code>a/**/z</code> 可以匹配 <code>a/z</code> 、 <code>a/b/z</code> 或 <code>a/b/c/z</code> 等。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 忽略所有的 .a 文件</span>
</span></span><span class=line><span class=cl>*.a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件</span>
</span></span><span class=line><span class=cl>!lib.a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO</span>
</span></span><span class=line><span class=cl>/TODO
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 忽略任何目录下名为 build 的文件夹</span>
</span></span><span class=line><span class=cl>build/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt</span>
</span></span><span class=line><span class=cl>doc/*.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 忽略 doc/ 目录及其所有子目录下的 .pdf 文件</span>
</span></span><span class=line><span class=cl>doc/**/*.pdf
</span></span></code></pre></td></tr></table></div></div><p>GitHub 有一个十分详细的针对数十种项目及语言的 <code>.gitignore</code> 文件列表， 你可以在 <a href=https://github.com/github/gitignore target=_blank rel="external nofollow noopener noreffer">https://github.com/github/gitignore</a> 找到它。</p><h3 id=查看修改的具体内容>查看修改的具体内容</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git diff <span class=c1># 比较修改之后还没有暂存起来的变化内容。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git diff --staged <span class=c1># 查看已暂存的将要添加到下次提交里的内容</span>
</span></span></code></pre></td></tr></table></div></div><p><code>git status</code> 只能查看文件变动的状态，并不能查看具体修改了哪些内容。使用<code>git diff</code>可以看到具体变动的内容。</p><h3 id=提交更新>提交更新</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git commit <span class=c1># 未带参数的会打开默认文本编辑器让你输入提交说明</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git commit -m <span class=s1>&#39;提交说明&#39;</span> <span class=c1># 带-m参数直接输入提交说明</span>
</span></span></code></pre></td></tr></table></div></div><p>使用<code>git commit</code>提交更新，在此之前，务必确认所有变动已经被<code>git add</code>添加到暂存区。</p><h3 id=跳过使用暂存区域>跳过使用暂存区域</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git commit -a -m <span class=s1>&#39;提交说明&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>添加<code>-a</code>选项可以跳过<code>git add</code> 步骤，把已经跟踪过的文件一并提交。</p><p>注意：这个操作<strong>无法提交未跟踪</strong>的文件。</p><h2 id=git-基础---查看提交历史>Git 基础 - 查看提交历史</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git log
</span></span></code></pre></td></tr></table></div></div><p>不传入任何参数的默认情况下，<code>git log</code> 会按时间先后顺序列出所有的提交，最近的更新排在最上面。</p><p>此命令打印的数据中有一项是一长串的 <code>SHA-1</code> 校验码。</p><p><strong>带入<code>-p</code>或<code>--patch </code>查看提交的具体差异：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git log -p -2 <span class=c1># -p显示差异  -2显示最近的提交次数</span>
</span></span></code></pre></td></tr></table></div></div><p><code>--stat</code> 显示每次提交的差异统计</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git log --stat
</span></span></code></pre></td></tr></table></div></div><p><code>--pretty</code> 这个选项可以使用不同于默认格式的方式展示提交历史</p><p>这个选项有一些内建的子选项供你使用。 比如 <code>oneline</code> 会将每个提交放在一行显示，在浏览大量的提交时非常有用。 另外还有 <code>short</code>，<code>full</code> 和 <code>fuller</code> 选项，它们展示信息的格式基本一致，但是详尽程度不一：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fsharp data-lang=fsharp><span class=line><span class=cl><span class=o>$</span> <span class=n>git</span> <span class=n>log</span> <span class=o>--</span><span class=n>pretty</span><span class=o>=</span><span class=n>oneline</span>
</span></span><span class=line><span class=cl><span class=n>ca82a6dff817ec66f44342007202690a93763949</span> <span class=n>changed</span> <span class=n>the</span> <span class=n>version</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=n>085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7</span> <span class=n>removed</span> <span class=n>unnecessary</span> <span class=n>test</span>
</span></span><span class=line><span class=cl><span class=n>a11bef06a3f659402fe7563abf99ad00de2209e6</span> <span class=n>first</span> <span class=n>commit</span>
</span></span></code></pre></td></tr></table></div></div><p>最有意思的是 <code>format</code> ，可以定制记录的显示格式。 这样的输出对后期提取分析格外有用——因为你知道输出的格式不会随着 Git 的更新而发生改变：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git log --pretty<span class=o>=</span>format:<span class=s2>&#34;%h - %an, %ar : %s&#34;</span>
</span></span><span class=line><span class=cl>ca82a6d - Scott Chacon, <span class=m>6</span> years ago : changed the version number
</span></span><span class=line><span class=cl>085bb3b - Scott Chacon, <span class=m>6</span> years ago : removed unnecessary <span class=nb>test</span>
</span></span><span class=line><span class=cl>a11bef0 - Scott Chacon, <span class=m>6</span> years ago : first commit
</span></span></code></pre></td></tr></table></div></div><p><a href=https://git-scm.com/book/zh/v2/ch00/pretty_format target=_blank rel="external nofollow noopener noreffer"><code>git log --pretty=format</code> 常用的选项</a> 列出了 <code>format</code> 接受的常用格式占位符的写法及其代表的意义。</p><p><strong>当 <code>oneline</code> 或 <code>format</code> 与另一个 <code>log</code> 选项 <code>--graph</code> 结合使用时尤其有用。 这个选项添加了一些 ASCII 字符串来形象地展示你的分支、合并历史：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git log --pretty<span class=o>=</span>format:<span class=s2>&#34;%h %s&#34;</span> --graph
</span></span><span class=line><span class=cl>* 2d3acf9 ignore errors from SIGCHLD on <span class=nb>trap</span>
</span></span><span class=line><span class=cl>*  5e3ee11 Merge branch <span class=s1>&#39;master&#39;</span> of git://github.com/dustin/grit
</span></span><span class=line><span class=cl><span class=p>|</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=p>|</span> * 420eac9 Added a method <span class=k>for</span> getting the current branch.
</span></span><span class=line><span class=cl>* <span class=p>|</span> 30e367c timeout code and tests
</span></span><span class=line><span class=cl>* <span class=p>|</span> 5a09431 add timeout protection to grit
</span></span><span class=line><span class=cl>* <span class=p>|</span> e1193f8 support <span class=k>for</span> heads with slashes in them
</span></span><span class=line><span class=cl><span class=p>|</span>/
</span></span><span class=line><span class=cl>* d6016bc require <span class=nb>time</span> <span class=k>for</span> xmlschema
</span></span><span class=line><span class=cl>*  11d191e Merge branch <span class=s1>&#39;defunkt&#39;</span> into <span class=nb>local</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=git-基础---撤消操作>Git 基础 - 撤消操作</h2><p>你提交后发现忘记了暂存某些需要的修改，可以像下面这样操作：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git commit -m <span class=s1>&#39;initial commit&#39;</span>
</span></span><span class=line><span class=cl>$ git add forgotten_file
</span></span><span class=line><span class=cl>$ git commit --amend <span class=c1># 重新提交，且只有一次提交记录</span>
</span></span></code></pre></td></tr></table></div></div><p>最终你只会有一个提交——第二次提交将代替第一次提交的结果。</p><p>更多撤销操作请了解 <code>reset</code>命令。</p><h2 id=git-基础---远程仓库的使用>Git 基础 - 远程仓库的使用</h2><h3 id=查看远程仓库>查看远程仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote <span class=c1># 仅显示远程仓库的名称</span>
</span></span><span class=line><span class=cl>git remote -v <span class=c1># 显示远程仓库的名称 + 地址</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=添加远程仓库>添加远程仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl> git remote add &lt;远程仓库名&gt; &lt;url&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=从远程仓库中抓取与拉取>从远程仓库中抓取与拉取</h3><p>就如刚才所见，从远程仓库中获得数据，可以执行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git fetch &lt;remote&gt;
</span></span></code></pre></td></tr></table></div></div><p>这个命令会访问远程仓库，从中拉取所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。</p><p>注意： <code>git fetch</code> 命令只会将数据下载到你的本地仓库——<strong>它并不会自动合并或修改你当前的工作</strong>。 当准备好时你必须手动将其合并入你的工作。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git pull
</span></span></code></pre></td></tr></table></div></div><p>用 <code>git pull</code> 命令来自动抓取后合并该远程分支到当前分支。 这或许是个更加简单舒服的工作流程。默认情况下，<code>git clone</code> 命令会自动设置本地 master 分支跟踪克隆的远程仓库的 <code>master</code> 分支（或其它名字的默认分支）。 <strong>运行 <code>git pull</code> 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。</strong></p><h3 id=推送到远程仓库>推送到远程仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push &lt;remote&gt; &lt;branch&gt; <span class=c1># git push origin master</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=查看某个远程仓库>查看某个远程仓库</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl> git remote show &lt;remote&gt; <span class=c1># git remote show origin</span>
</span></span></code></pre></td></tr></table></div></div><p>查看远程仓库的详细信息。这个命令列出了当你在特定的分支上执行 <code>git push</code> 会自动地推送到哪一个远程分支</p><h3 id=远程仓库的重命名与移除>远程仓库的重命名与移除</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote rename &lt;原名&gt; &lt;新名&gt; <span class=c1># 重命名</span>
</span></span><span class=line><span class=cl>git remote remove paul &lt;remote&gt;# 移除远程仓库
</span></span></code></pre></td></tr></table></div></div><h2 id=git-基础---打标签>Git 基础 - 打标签</h2><h3 id=列出标签>列出标签</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git tag <span class=c1># 完整标签列表</span>
</span></span><span class=line><span class=cl>git tag -l <span class=s2>&#34;v2.0*&#34;</span> <span class=c1># 只显示包含 v2.0 的标签。 注意加星号(*)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>-l</code> 或 <code>--list</code> 都可以。</p><h3 id=创建标签>创建标签</h3><p>Git 支持两种标签：<strong>轻量标签</strong>（lightweight）与<strong>附注标签</strong>（annotated）。</p><p>轻量标签很像一个不会改变的分支——它<strong>只是某个特定提交的引用</strong>。</p><p>而附注标签是存储在 Git 数据库中的一个完整对象， 它们是可以被校验的，其中<strong>包含打标签者的名字、电子邮件地址、日期时间， 此外还有一个标签信息</strong>，并且可以使用 GNU Privacy Guard （GPG）签名并验证。 通常会建议创建附注标签，这样你可以拥有以上所有信息。但是如果你只是想用一个临时的标签， 或者因为某些原因不想要保存这些信息，那么也可以用轻量标签。</p><h3 id=附注标签>附注标签</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git tag -a v1.4 -m <span class=s2>&#34;my version 1.4&#34;</span> <span class=c1># -a表示add， -m 表示附件信息</span>
</span></span></code></pre></td></tr></table></div></div><p>通过使用 <code>git show</code> 命令可以看到标签信息和与之对应的提交信息：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git show v1.4
</span></span></code></pre></td></tr></table></div></div><h3 id=轻量标签>轻量标签</h3><p>轻量标签本质上是将提交校验和存储到一个文件中——没有保存任何其他信息。 创建轻量标签，不需要使用 <code>-a</code>、<code>-s</code> 或 <code>-m</code> 选项，只需要提供标签名字：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git tag v1.4-lw <span class=c1># 不需要添加选项</span>
</span></span></code></pre></td></tr></table></div></div><p>这时，如果在标签上运行 <code>git show</code>，你不会看到额外的标签信息。 命令只会显示出提交信息：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git show v1.4-lw
</span></span><span class=line><span class=cl>commit ca82a6dff817ec66f44342007202690a93763949
</span></span><span class=line><span class=cl>Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
</span></span><span class=line><span class=cl>Date:   Mon Mar <span class=m>17</span> 21:52:11 <span class=m>2008</span> -0700
</span></span></code></pre></td></tr></table></div></div><h3 id=后期打标签>后期打标签</h3><p>你也可以对过去的提交打标签。 假设提交历史是这样的：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git log --pretty<span class=o>=</span>oneline
</span></span><span class=line><span class=cl>166ae0c4d3f420721acbb115cc33848dfcc2121a started write support
</span></span><span class=line><span class=cl>9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile
</span></span><span class=line><span class=cl>8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme
</span></span></code></pre></td></tr></table></div></div><p>现在，假设在 v1.2 时你忘记给项目打标签，也就是在 “updated rakefile” 提交。 你可以在之后补上标签。 要在那个提交上打标签，你需要在命令的末尾指定提交的校验和（或部分校验和）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git tag -a v1.2 9fceb02 <span class=c1># 打的标签属于附注标签</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=共享标签>共享标签</h3><p><code>git push</code> 命令并不会传送标签到远程仓库服务器上。 在创建完标签后你必须显式地推送标签到共享服务器上。 这个过程就像共享远程分支一样——你可以运行 <code>git push origin &lt;tagname></code>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push origin v1.5 <span class=c1># 显式地推送标签到远程仓库</span>
</span></span><span class=line><span class=cl>git push origin --tags <span class=c1># 一次性推送所有不在远程仓库上的标签</span>
</span></span></code></pre></td></tr></table></div></div><p>现在，当其他人从仓库中克隆或拉取，他们也能得到你的那些标签。</p><h3 id=删除标签>删除标签</h3><p>要删除掉你本地仓库上的标签，可以使用命令 <code>git tag -d &lt;tagname></code>。 例如，可以使用以下命令删除一个轻量标签：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git tag -d v1.4-lw
</span></span><span class=line><span class=cl>Deleted tag <span class=s1>&#39;v1.4-lw&#39;</span> <span class=o>(</span>was e7d5add<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>注意上述命令并不会从任何远程仓库中移除这个标签，你必须用 <code>git push &lt;remote> :refs/tags/&lt;tagname></code> 来更新你的远程仓库：</p><p>第一种变体是 <code>git push &lt;remote> :refs/tags/&lt;tagname></code> ：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git push origin :refs/tags/v1.4-lw
</span></span><span class=line><span class=cl>To /git@github.com:schacon/simplegit.git
</span></span><span class=line><span class=cl> - <span class=o>[</span>deleted<span class=o>]</span>         v1.4-lw
</span></span></code></pre></td></tr></table></div></div><p>上面这种操作的含义是，将冒号前面的空值推送到远程标签名，从而高效地删除它。</p><p>第二种更直观的删除远程标签的方式是：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git push origin --delete &lt;tagname&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=检出标签>检出标签</h3><p>如果你想查看某个标签所指向的文件版本，可以使用 <code>git checkout</code> 命令， 虽然这会使你的仓库处于“分离头指针（detached HEAD）”的状态——这个状态有些不好的副作用：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git checkout 2.0.0
</span></span><span class=line><span class=cl>Note: checking out <span class=s1>&#39;2.0.0&#39;</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>You are in <span class=s1>&#39;detached HEAD&#39;</span> state. You can look around, make experimental
</span></span><span class=line><span class=cl>changes and commit them, and you can discard any commits you make in this
</span></span><span class=line><span class=cl>state without impacting any branches by performing another checkout.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>If you want to create a new branch to retain commits you create, you may
</span></span><span class=line><span class=cl><span class=k>do</span> so <span class=o>(</span>now or later<span class=o>)</span> by using -b with the checkout <span class=nb>command</span> again. Example:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  git checkout -b &lt;new-branch&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>HEAD is now at 99ada87... Merge pull request <span class=c1>#89 from schacon/appendix-final</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ git checkout 2.0-beta-0.1
</span></span><span class=line><span class=cl>Previous HEAD position was 99ada87... Merge pull request <span class=c1>#89 from schacon/appendix-final</span>
</span></span><span class=line><span class=cl>HEAD is now at df3f601... add atlas.json and cover image
</span></span></code></pre></td></tr></table></div></div><p>在“分离头指针”状态下，如果你做了某些更改然后提交它们，标签不会发生变化， 但你的新提交将不属于任何分支，并且将无法访问，除非通过确切的提交哈希才能访问。 因此，如果你需要进行更改，比如你要修复旧版本中的错误，那么通常需要创建一个新分支：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git checkout -b version2 v2.0.0
</span></span><span class=line><span class=cl>Switched to a new branch <span class=s1>&#39;version2&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>如果在这之后又进行了一次提交，<code>version2</code> 分支就会因为这个改动向前移动， 此时它就会和 <code>v2.0.0</code> 标签稍微有些不同，这时就要当心了。</p><h2 id=git-命令别名>Git 命令别名</h2><p>Git 并不会在你输入部分命令时自动推断出你想要的命令。 如果不想每次都输入完整的 Git 命令，可以通过 <code>git config</code> 文件来轻松地为每一个命令设置一个别名。 这里有一些例子你可以试试：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git config --global alias.co checkout
</span></span><span class=line><span class=cl>$ git config --global alias.br branch
</span></span><span class=line><span class=cl>$ git config --global alias.ci commit
</span></span><span class=line><span class=cl>$ git config --global alias.st status
</span></span></code></pre></td></tr></table></div></div><p>这意味着，当要输入 <code>git commit</code> 时，只需要输入 <code>git ci</code>。</p><p>在创建你认为应该存在的命令时这个技术会很有用。 例如，为了解决取消暂存文件的易用性问题，可以向 Git 中添加你自己的取消暂存别名：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git config --global alias.unstage <span class=s1>&#39;reset HEAD --&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>这会使下面的两个命令等价：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git unstage fileA
</span></span><span class=line><span class=cl>$ git reset HEAD -- fileA
</span></span></code></pre></td></tr></table></div></div><p>这样看起来更清楚一些。 通常也会添加一个 <code>last</code> 命令，像这样：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git config --global alias.last <span class=s1>&#39;log -1 HEAD&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>这样，可以轻松地看到最后一次提交：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git last
</span></span><span class=line><span class=cl>commit 66938dae3329c7aebe598c2246a8e6af90d04646
</span></span><span class=line><span class=cl>Author: Josh Goebel &lt;dreamer3@example.com&gt;
</span></span><span class=line><span class=cl>Date:   Tue Aug <span class=m>26</span> 19:48:51 <span class=m>2008</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>test</span> <span class=k>for</span> current head
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Signed-off-by: Scott Chacon &lt;schacon@example.com&gt;
</span></span></code></pre></td></tr></table></div></div><p>可以看出，Git 只是简单地将别名替换为对应的命令。 然而，你可能想要执行外部命令，而不是一个 Git 子命令。 如果是那样的话，可以在命令前面加入 <code>!</code> 符号。 如果你自己要写一些与 Git 仓库协作的工具的话，那会很有用。 我们现在演示将 <code>git visual</code> 定义为 <code>gitk</code> 的别名：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ git config --global alias.visual <span class=s1>&#39;!gitk&#39;</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2020-11-18 17:43:57">更新于 2020-11-18</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令 data-hashtags=Git><i class="fa-brands fa-twitter fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-hashtag=Git><i class="fa-brands fa-facebook-square fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令 data-web><i class="fa-brands fa-whatsapp fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令><i class="fa-brands fa-weibo fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Myspace" data-sharer=myspace data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令 data-description><i data-svg-src=/lib/simple-icons/icons/myspace.min.svg></i></a>
<a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令 data-description><i class="fa-brands fa-blogger fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=http://devops.alongparty.cn/posts/git%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%91%BD%E4%BB%A4/ data-title=Git基础与命令><i class="fa-brands fa-evernote fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw"></i>&nbsp;<a href=/tags/git/>Git</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4%E6%B8%85%E5%8D%95/ class=prev rel=prev title=常用Git命令清单><i class="fa-solid fa-angle-left fa-fw"></i>常用Git命令清单</a>
<a href=/posts/git%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%BD%AE%E6%8F%AD%E5%AF%86/ class=next rel=next title=Git工具-重置揭密>Git工具-重置揭密<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=kbsonlong/devops.alongparty.cn data-repo-id=R_kgDOHE7F-Q data-category=Announcements data-category-id=DIC_kwDOHE7F-c4CPP5J data-mapping=title data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreffer">giscus</a>.</noscript></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line copyright"><i class="fa-regular fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>
<a href=/>kbsonlong</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div><div class="footer-line ibruce"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw"></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa fa-spinner fa-spin fa-fw"></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin fa-fw"></i></span></span></div><div class="footer-line beian"><span class="icp footer-divider"><a target=_blank href=https://beian.miit.gov.cn/>粤ICP备18122209号</a></span></div></div></footer></div><div class=widgets><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fa-solid fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fa-solid fa-comment fa-fw"></i></a></div><a href=https://github.com/kbsonlong title="在 GitHub 上查看源代码" target=_blank rel="external nofollow noopener noreffer" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/lib/sharer/sharer.min.js async defer></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript src=/lib/pangu/pangu.min.js defer></script><script type=text/javascript src=/lib/cell-watermark/watermark.min.js defer></script><script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{giscus:{darkTheme:"dark",lightTheme:"light"}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,enablePangu:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"WFOR67TML1",algoliaIndex:"along",algoliaSearchKey:"ea1fe535f9a7ae353f3922489c829cc1",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},watermark:{content:'\u003cimg class="fixit-icon" src="/favicon-16x16.png" alt="FixIt logo" /\u003e FixIt 主题',enable:!0,height:21,opacity:.0125}}</script><script type=text/javascript src=/js/theme.min.js defer></script><script type=text/javascript src=/js/_custom.min.js defer></script></body></html>